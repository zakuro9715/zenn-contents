---
title: '2021/03/12 - $if prod を入れた'
---

V言語にはコンパイル時 `$if` があり、os やコンパイラによって分岐することができる。

`$if debug` と `$if test` は存在していたが、`-prod` オプションを判別する方法が用意されていなかったので実装した。これを使用することで、assertion をプロダクションビルドでは省略するようなことができるようになる。

また、最近入った `dump` と組み合わせれば便利な使い方ができそうだ。

実装自体は `$if debug` とそのまま一緒なのでかなり楽だった。

[v: support `$if prod` #9228](https://github.com/vlang/v/pull/9228)
